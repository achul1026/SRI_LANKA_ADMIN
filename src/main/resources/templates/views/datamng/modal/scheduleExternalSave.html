<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/modalLayout}">
      
	<th:block layout:fragment="modalContent">
		<div class="list-table-container" style="min-width:1000px;">
			<form>
				<table class="modal-table">
					<tbody>
						<tr>
							<th th:text="#{common.name}">이름</th>
							<td class="text-left">
								<input type="text" id="invstId" class="modal-input-text" th:placeholder="#{login.common.placeholder.name}">
							</td>
							<th th:text="#{schedule.scheduleExternalSave.birth}">생년월일</th>
							<td class="text-left">
								<input type="text" id="invstDate" class="modal-input-text" th:placeholder="#{schedule.scheduleExternalSave.placeholder.birth}">
							</td>
						</tr>
						<tr>
							<th th:text="#{common.contact}">핸드폰 번호</th>
							<td class="text-left">
								<input type="text" id="invstPhone" class="modal-input-text" th:placeholder="#{login.join.placeholder.contact}">
							</td>
							<th th:text="#{common.email}">이메일</th>
							<td class="text-left">
								<input type="text" id="invstEmail" class="modal-input-text" th:placeholder="#{login.common.placeholder.email}">
							</td>
						</tr>						
					</tbody>
				</table>
				<div class="mt8"><button type="button" id="test" class="is-key-button" th:text="#{invst.common.button.add}">추가하기</button></div>								
			</form>
		</div>
		<div id="selectInvstContainer">
			<div><span th:text="#{schedule.scheduleExternalSave.number.investigators}">조사원 수</span> : ( <span id="totalSelectInvstNumber" class="required">0</span> / <span id="totalInvstNumber">2</span> )</div>
			<div class="table-wrap mt16">
				<div class="table-box">
					<table class="list-table">
						<thead>
							<tr>
								<th th:text="#{common.name}">이름</th>
								<th th:text="#{schedule.scheduleExternalSave.birth}">생년월일</th>
								<th th:text="#{common.contact}">연락처</th>
								<th th:text="#{common.email}">이메일</th>
								<th th:text="#{schedule.scheduleExternalSave.delete}">삭제</th>
							</tr>
						</thead>
						<tbody id="invstAddList">
						</tbody>
					</table>
				</div>
			</div>				
		</div>
	</th:block>
</html>
<script type="text/javascript">
	$('#test').on('click', function(){
		let invstId = $('#invstId').val();
		let invstDate = $('#invstDate').val();
		let invstPhone = $('#invstPhone').val();
		let invstEmail = $('#invstEmail').val();
		
		let invstExtemal = 	'<tr>'
			invstExtemal +=		'<td>'
			invstExtemal +=			invstId
			invstExtemal +=		'</td>'
			invstExtemal +=		'<td>'
			invstExtemal +=			invstDate
			invstExtemal +=		'</td>'
			invstExtemal +=		'<td>'
			invstExtemal +=			invstPhone
			invstExtemal +=		'</td>'
			invstExtemal +=		'<td>'
			invstExtemal +=			invstEmail
			invstExtemal +=		'</td>'
			invstExtemal +=		'<td>'
			invstExtemal +=			'<span class="invst-img" onclick="removeList(this)">'
			invstExtemal += 			'<img src="/images/close_black.png" alt="close">'
			invstExtemal += 		'</span>'
			invstExtemal +=		'</td>'
			invstExtemal += '</tr>'
			
		$('#invstAddList').append(invstExtemal);
			
		let invstList = $('#invstAddList').children('tr').length;
		$('#totalSelectInvstNumber').text(invstList);
	})
	
	function removeList(_this) {
		$(_this).closest('tr').remove();		
		let invstList = $('#invstAddList').children('tr').length;
		$('#totalSelectInvstNumber').text(invstList);
	}
	
</script>